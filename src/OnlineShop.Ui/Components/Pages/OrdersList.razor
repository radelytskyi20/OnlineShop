@page "/orders-list"
@using System.Linq
@inject IOrdersManager OrdersManager
@inject ILoginStatusManager LoginStatusManager

<PageTitle>Orders</PageTitle>
<div class="container mt-2">
    <div class="row">
        <div class="col-12 d-flex justify-content-center algin-items-center">
            <h4>Here you can find your orders.</h4>
        </div>
    </div>
    
    <div class="row">
        <div class="col-12">
            &nbsp;
        </div>
    </div>

    <div class="row">
        <div class="col-2 d-flex justify-content-start align-items-center p-1">
            <span>Id</span>
        </div>

        <div class="col-2 d-flex justify-content-start align-items-center p-1">
            <span>Name</span>
        </div>

        <div class="col-2 d-flex justify-content-center align-items-center p-1">
            <span>Address</span>
        </div>

        <div class="col-1 d-flex justify-content-center align-items-center p-1">
            <span>Created</span>
        </div>

        <div class="col-1 d-flex justify-content-center align-items-center p-1">
            <span>Modified</span>
        </div>

        <div class="col-4 d-flex justify-content-center align-items-center p-1">
            <span>Articles</span>
        </div>
    </div>

    @foreach (var order in Orders)
    {
        <OrderDisplay Order="order"></OrderDisplay>
    }

</div>

@code {
    public List<OrderView> Orders { get; set; } = new();

    protected override async Task OnInitializedAsync()
    {
        Orders = (await OrdersManager.GetAll()).ToList();
    }
}
